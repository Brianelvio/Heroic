<div class="wrapper wrapper--content" ng-if="ready">
  <section>
    <h1>Play A Song <small style="float:right;">Currently listening to <b>{{ current.song.title }}</b></small></h1>
    <habbo-avatar-create>
      <div class="avatar-create">
          <div class="avatar-create__text">There are {{ current.users }} users currently listening</div>
          <div class="avatar-create__button__wrapper">
            <button class="avatar-create__button" ng-show="!form" ng-click="form=true">Request Song</button>
            <button class="avatar-create__button" ng-show="form" ng-click="form=false">Show Playlist</button>
          </div>
      </div>
    </habbo-avatar-create>
    <form ng-show="form" ng-keyup="search()" class="form">
      <fieldset class="form__fieldset">
        <p>{{ current.data.message }}</p>
      </fieldset>
      <fieldset class="form__fieldset">
        <div class="form__field">
          <input ng-model="current.data.title" ng-click="data.message=''" placeholder="Song Name" class="form__input">
        </div>
      </fieldset>
    </form>
  </section>
  <section>
      <div ng-hide="current.search_results.length > 0" ng-repeat="video in current.playlist" style="width:40%;display:inline-block;margin-left:2.5%;">
        <article class="news-header">
            <a class="news-header__link news-header__banner">
                <figure class="news-header__viewport">
                  <img src="{{ video.image }}" class="news-header__image news-header__image--thumbnail">
                </figure>
            </a>
            <a class="news-header__link news-header__wrapper">
              <h2 class="news-header__title" ng-if="video.title.indexOf('-') == -1">{{ video.title.substr(0, 23) }} <br><br></h2>
              <h2 class="news-header__title" ng-if="video.title.indexOf('-') > -1">
                {{ video.title.split('-')[0].substr(0, 23) }}
                <br>
                {{ video.title.split('-')[1].substr(0,23) }}
              </h2>            </a>
            <p class="news-header__wrapper news-header__summary">Added By <a href="/profile/{{ video.user.username }}">{{ video.user.username}}</a> </p>
        </article>
      </div>
    </section>
    <section>
      <div ng-show="current.search_results.length > 0" ng-repeat="video in current.search_results" style="width:40%;display:inline-block;margin-left:2.5%;">
        <article class="news-header">
            <a ng-click="form=false;play(video.id.videoId, video.snippet.title, video.snippet.thumbnails.default.url);" class="news-header__link news-header__banner">
                <figure class="news-header__viewport">
                  <img src="{{ video.snippet.thumbnails.default.url }}" class="news-header__image news-header__image--thumbnail">
                </figure>
            </a>
            <a ng-click="form=false;play(video.id.videoId, video.snippet.title, video.snippet.thumbnails.default.url)" class="news-header__link news-header__wrapper">
                <h2 class="news-header__title" ng-if="video.snippet.title.indexOf('-') == -1">{{ video.snippet.title.substr(0, 23) }} <br></h2>
                <h2 class="news-header__title" ng-if="video.snippet.title.indexOf('-') > -1">
                  {{ video.snippet.title.split('-')[0].substr(0,23) }}
                  <br>
                  {{ video.snippet.title.split('-')[1].substr(0,23) }}
                </h2>
            </a>
        </article>
      </div>
  </section>
</div>

<div class="wrapper wrapper--content" ng-if="!ready">
  <main class="wrapper wrapper--content not-found">
  <section class="not-found__content">
      <h3>Please Wait...</h3>
      <div>The hotel radio is loading!</a>
      </div>
  </section>
  </main>
</div>

<iframe id="radio" style="display:none;"></iframe>
